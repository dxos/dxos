type: library
language: typescript
tasks:
  compile:
    args:
      - '--entryPoint=src/index.ts'
    deps:
      - compile-node
  compile-node:
    command: dx-compile
    args:
      - '--entryPoint=src/testing/index.ts'
      - '--outputPath=dist/testing'
      - '--platform=node'
    deps:
      - ^:compile
      - esbuild:compile
    inputs:
      - '@group(sources)'
    outputs:
      - dist/testing
