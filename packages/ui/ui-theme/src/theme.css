/**
 * Main theme.
 */

/**
 * Establish CSS cascade layer order before Tailwind sets its own.
 * First mention of a layer name wins its position in the order.
 *
 * NOTE: `utilities` must be last so it overrides all base and component layers.
 * NOTE: This must be in sync with the `transformIndexHtml` function in `packages/ui/ui-theme/src/plugins/plugin.ts`.
 */
@layer properties, theme, dx-tokens, user-tokens, base, tw-base, dx-base, components, tw-components, dx-components, utilities;

@import 'tailwindcss';

/* @theme extensions */
@import './config/theme/animation.css';
@import './config/theme/border.css';
@import './config/theme/palette.css';
@import './config/theme/colors.css';
@import './config/theme/spacing.css';
@import './config/theme/text.css';

/* @layer dx-base, dx-tokens */
@import './config/base/base.css';
@import './config/base/typography.css';

/* @layer dx-components — components */
@import './config/components/button.css';
@import './config/components/checkbox.css';
@import './config/components/dialog.css';
@import './config/components/drag-preview.css';
@import './config/components/focus-ring.css';
@import './config/components/hues.css';
@import './config/components/scrollbar.css';
@import './config/components/surface.css';
@import './config/components/tag.css';

/* @layer dx-components — layout */
@import './config/layout/main.css';
@import './config/layout/native.css';
@import './config/layout/positioning.css';
@import './config/layout/size.css';

/* Third-party integrations */
@import './config/integrations/codemirror.css';
@import './config/integrations/tldraw.css';

@plugin '@tailwindcss/forms';
@plugin 'tailwind-scrollbar';
@plugin 'tailwindcss-radix';

/**
 * Class-based dark mode.
 * The `.dark` class on an ancestor toggles `dark:` utilities.
 */
@variant dark (&:where(.dark, .dark *));

/**
 * Custom variants for pointer/hover media queries.
 * Replaces v3 custom screens: pointer-fine, hover-hover.
 */
@custom-variant pointer-fine (@media (pointer: fine));
@custom-variant hover-hover (@media (hover: hover));
