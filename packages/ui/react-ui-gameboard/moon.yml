type: library
language: typescript
tags:
  - ts-build
  - ts-test
  - pack
  - storybook
tasks:
  compile:
    args:
      - '--entryPoint=src/index.ts'
      - '--preactSignalTracking'
    deps:
      - gen-pieces
  gen-pieces:
    command: pnpm run --silent gen:pieces
    inputs:
      - assets/*.*
    outputs:
      - src/gen
  test:
    inputs:
      - .storybook/*
