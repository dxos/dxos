type: library
language: typescript
tags:
  - ts-build
workspace:
  inheritedTasks:
    exclude:
      - lint
tasks:
  compile:
    options:
      mergeArgs: 'replace'
    command: esbuild
    args:
      - 'src/_/config.js'
      - 'src/assert.js'
      - 'src/buffer.js'
      - 'src/crypto.js'
      - 'src/events.js'
      - 'src/fs.js'
      - 'src/fs/promises.js'
      - 'src/inject-globals.js'
      - 'src/path.js'
      - 'src/stream.js'
      - 'src/util.js'
      - '--platform=browser'
      - '--bundle'
      - '--outdir=dist/lib/browser'
      - '--inject:src/inject-globals.js'
      - '--format=esm'
      - '--splitting'
