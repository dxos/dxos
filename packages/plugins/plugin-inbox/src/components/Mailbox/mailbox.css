.message {
  &::before,
  &::after {
    content: '';
    position: absolute;
    z-index: 0;
    pointer-events: none;
  }

  &::after {
    inset: 0;
  }

  &::before {
    inset-block: 0;
    inset-inline-end: 0;
    inline-size: 0.25rem;
  }

  &:focus-visible::before {
    inset-block: var(--dx-gridFocusIndicatorWidth);
    inset-inline-end:  var(--dx-gridFocusIndicatorWidth);
  }

  &.message__card {
    @apply pli-cardSpacingChrome plb-cardSpacingChrome;
  }

  body[data-is-keyboard='true'] article:focus-within & > .dx-grid__cell__content {
    @apply border;
  }

  & > .dx-grid__cell__content,
  &.message__card {
    @apply grid grid-cols-[min-content_1fr];
  }

  &.message--current {
    & > .dx-grid__cell__content, &::after {
      @apply bg-currentRelated;
    }

    &::before {
      @apply bg-accentSurface;
    }

    .message__selection-signifier {
      @apply bg-accentSurface;
    }
  }

  .message__thumb,
  .message__abstract {
    position: relative;
    z-index: 1;
  }

  .message__thumb {
    @apply grid aspect-square place-items-center;
  }

  .message__abstract {
    @apply grid grid-rows-2 is-full min-is-0 overflow-hidden;

    .message__abstract__heading {
      @apply flex items-center;

      .message__abstract__from {
        @apply flex flex-1 pis-1 truncate text-base font-medium;
      }

      .message__abstract__date {
        @apply pie-2 text-sm text-description font-normal;
      }
    }

    .message__abstract__body {
      @apply flex items-center overflow-hidden;

      .message__snippet {
        @apply text-left grow pis-1 pie-2 truncate text-sm text-description;
      }

      .message__tags {
        @apply flex shrink-0 pie-1 gap-0.5 flex-nowrap overflow-hidden;

        .message__tags-item {
          @apply cursor-pointer;
          transition-property: transform;
          transition-duration: 80ms;
        }
      }
    }
  }
}
