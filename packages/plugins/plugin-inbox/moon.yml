type: library
language: typescript
tags:
  - ts-build
  - ts-test
  - pack
  - storybook
tasks:
  compile:
    args:
      - '--entryPoint=src/index.ts'
      - '--entryPoint=src/blueprints/index.ts'
      - '--entryPoint=src/types/index.ts'
      - '--platform=browser'
      - '--platform=node'
      - '--preactSignalTracking'
  test:
    inputs:
      - .storybook/*

  deploy-functions:
    command: $workspaceRoot/scripts/dxnext --profile main edge function deploy --runtime worker-loader src/functions/google/gmail/sync.ts
    local: true
