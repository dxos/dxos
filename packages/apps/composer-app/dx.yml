version: 1

package:
  modules:
    - name: composer
      type: dxos:type/app
      displayName: Composer
      description: Composer is an open-source, extensible environment for bringing together knowledge from all systems.
      tags:
        - showcase
      build:
        command: pnpm -w nx bundle composer-app

runtime:
  client:
    storage:
      persistent: true
    edgeFeatures:
      signaling: true

  services:
    edge:
      url: wss://edge-main.dxos.workers.dev/
    ice:
      - urls: turn:kube.dxos.org:3478
        username: dxos
        credential: dxos
    iceProviders:
      - urls: https://edge-main.dxos.workers.dev/ice
    ipfs:
      server: https://api.ipfs.dxos.network/api/v0
      gateway: https://gateway.ipfs.dxos.network/ipfs
    # edge:
    #   url: ws://edge.dxos.workers.dev
