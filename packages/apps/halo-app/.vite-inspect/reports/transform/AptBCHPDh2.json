{"resolvedId":"/home/jdw/Code/dxos/dxos/packages/common/telemetry/dist/lib/browser/index.mjs","transforms":[{"name":"vite:load-fallback","result":"// packages/common/telemetry/src/browser.ts\nimport snippet from \"@segment/snippet\";\nimport { captureException } from \"@dxos/sentry\";\nvar init = ({ apiKey, enable = true }) => {\n  if (!enable) {\n    return;\n  }\n  const contents = snippet.min({\n    apiKey,\n    page: false\n  });\n  const script = document.createElement(\"script\");\n  script.innerHTML = contents;\n  document.body.append(script);\n};\nvar page = ({ identityId: userId, ...options } = {}) => {\n  var _a;\n  (_a = window.analytics) == null ? void 0 : _a.page({\n    ...options,\n    userId\n  });\n};\nvar event = ({ identityId: userId, name: event2, ...options }) => {\n  var _a;\n  (_a = window.analytics) == null ? void 0 : _a.track({\n    ...options,\n    event: event2\n  });\n};\nvar flush = async () => {\n  var _a;\n  await ((_a = window.analytics) == null ? void 0 : _a.flush((err) => {\n    captureException(err);\n  }));\n};\nexport {\n  event,\n  flush,\n  init,\n  page\n};\n//# sourceMappingURL=index.mjs.map\n","start":1670465438903,"end":1670465440534},{"name":"vite:react-babel","result":"// packages/common/telemetry/src/browser.ts\nimport snippet from \"@segment/snippet\";\nimport { captureException } from \"@dxos/sentry\";\nvar init = ({ apiKey, enable = true }) => {\n  if (!enable) {\n    return;\n  }\n  const contents = snippet.min({\n    apiKey,\n    page: false\n  });\n  const script = document.createElement(\"script\");\n  script.innerHTML = contents;\n  document.body.append(script);\n};\nvar page = ({ identityId: userId, ...options } = {}) => {\n  var _a;\n  (_a = window.analytics) == null ? void 0 : _a.page({\n    ...options,\n    userId\n  });\n};\nvar event = ({ identityId: userId, name: event2, ...options }) => {\n  var _a;\n  (_a = window.analytics) == null ? void 0 : _a.track({\n    ...options,\n    event: event2\n  });\n};\nvar flush = async () => {\n  var _a;\n  await ((_a = window.analytics) == null ? void 0 : _a.flush((err) => {\n    captureException(err);\n  }));\n};\nexport {\n  event,\n  flush,\n  init,\n  page\n};\n//# sourceMappingURL=index.mjs.map\n","start":1670465440534,"end":1670465440534,"order":"pre"}]}
