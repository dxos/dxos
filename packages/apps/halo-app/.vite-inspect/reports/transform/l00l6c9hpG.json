{"resolvedId":"/home/jdw/Code/dxos/dxos/packages/apps/halo-app/src/pages/JoinIdentityPage.tsx","transforms":[{"name":"vite:load-fallback","result":"//\n// Copyright 2022 DXOS.org\n//\n\nimport React, { useCallback } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\n\nimport type { Invitation } from '@dxos/client';\nimport { useClient } from '@dxos/react-client';\nimport { Heading, JoinPanel, useTranslation } from '@dxos/react-uikit';\n\nimport { invitationCodeFromUrl } from '../util';\n\nconst JoinIdentityPage = () => {\n  const client = useClient();\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const invitationParam = searchParams.get('invitation');\n  const redirectUrl = searchParams.get('redirect');\n  const redirect = useCallback(\n    () =>\n      redirectUrl?.startsWith('http')\n        ? window.location.replace(redirectUrl)\n        : navigate(redirectUrl && redirectUrl.length ? redirectUrl : '/devices'),\n    [redirectUrl]\n  );\n  const acceptInvitation = useCallback((invitation: Invitation) => client.halo.acceptInvitation(invitation), [client]);\n\n  return (\n    <main className='max-is-lg mli-auto pli-7 mbs-7'>\n      <Heading>{t('join identity label', { ns: 'uikit' })}</Heading>\n      <JoinPanel\n        initialInvitationCode={invitationParam ?? undefined}\n        parseInvitation={(invitationCode) => invitationCodeFromUrl(invitationCode)}\n        onJoin={redirect}\n        acceptInvitation={acceptInvitation}\n      />\n    </main>\n  );\n};\n\nexport default JoinIdentityPage;\n","start":1670465438377,"end":1670465438655},{"name":"vite:react-babel","result":"//\n// Copyright 2022 DXOS.org\n//\n\nimport React, { useCallback } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport type { Invitation } from '@dxos/client';\nimport { useClient } from '@dxos/react-client';\nimport { Heading, JoinPanel, useTranslation } from '@dxos/react-uikit';\nimport { invitationCodeFromUrl } from '../util';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst JoinIdentityPage = () => {\n  const client = useClient();\n  const {\n    t\n  } = useTranslation();\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const invitationParam = searchParams.get('invitation');\n  const redirectUrl = searchParams.get('redirect');\n  const redirect = useCallback(() => redirectUrl?.startsWith('http') ? window.location.replace(redirectUrl) : navigate(redirectUrl && redirectUrl.length ? redirectUrl : '/devices'), [redirectUrl]);\n  const acceptInvitation = useCallback((invitation: Invitation) => client.halo.acceptInvitation(invitation), [client]);\n  return /*#__PURE__*/_jsxs(\"main\", {\n    className: \"max-is-lg mli-auto pli-7 mbs-7\",\n    children: [/*#__PURE__*/_jsx(Heading, {\n      children: t('join identity label', {\n        ns: 'uikit'\n      })\n    }), /*#__PURE__*/_jsx(JoinPanel, {\n      initialInvitationCode: invitationParam ?? undefined,\n      parseInvitation: invitationCode => invitationCodeFromUrl(invitationCode),\n      onJoin: redirect,\n      acceptInvitation: acceptInvitation\n    })]\n  });\n};\nexport default JoinIdentityPage;","start":1670465438655,"end":1670465438667,"order":"pre"},{"name":"vite:esbuild","result":"import { useCallback } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { useClient } from \"@dxos/react-client\";\nimport { Heading, JoinPanel, useTranslation } from \"@dxos/react-uikit\";\nimport { invitationCodeFromUrl } from \"../util\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst JoinIdentityPage = () => {\n  const client = useClient();\n  const {\n    t\n  } = useTranslation();\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const invitationParam = searchParams.get(\"invitation\");\n  const redirectUrl = searchParams.get(\"redirect\");\n  const redirect = useCallback(() => redirectUrl?.startsWith(\"http\") ? window.location.replace(redirectUrl) : navigate(redirectUrl && redirectUrl.length ? redirectUrl : \"/devices\"), [redirectUrl]);\n  const acceptInvitation = useCallback((invitation) => client.halo.acceptInvitation(invitation), [client]);\n  return /* @__PURE__ */ _jsxs(\"main\", {\n    className: \"max-is-lg mli-auto pli-7 mbs-7\",\n    children: [/* @__PURE__ */ _jsx(Heading, {\n      children: t(\"join identity label\", {\n        ns: \"uikit\"\n      })\n    }), /* @__PURE__ */ _jsx(JoinPanel, {\n      initialInvitationCode: invitationParam ?? void 0,\n      parseInvitation: (invitationCode) => invitationCodeFromUrl(invitationCode),\n      onJoin: redirect,\n      acceptInvitation\n    })]\n  });\n};\nexport default JoinIdentityPage;\n","start":1670465438667,"end":1670465438904,"order":"normal"}]}
