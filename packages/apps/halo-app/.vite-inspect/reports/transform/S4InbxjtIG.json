{"resolvedId":"/home/jdw/Code/dxos/dxos/packages/apps/halo-app/src/pages/DevicesPage.tsx","transforms":[{"name":"vite:load-fallback","result":"//\n// Copyright 2022 DXOS.org\n//\n\nimport { Plus } from 'phosphor-react';\nimport React, { useCallback } from 'react';\n\nimport { CancellableInvitationObservable } from '@dxos/client';\nimport { HeadingWithActions, InvitationList } from '@dxos/react-appkit';\nimport { useClient, useDevices, useHaloInvitations, useIdentity } from '@dxos/react-client';\nimport { Heading } from '@dxos/react-ui';\nimport { Button, useTranslation, getSize } from '@dxos/react-uikit';\n\nimport { DeviceList } from '../components';\nimport { createInvitationUrl } from '../util';\n\nconst DevicesPage = () => {\n  const { t } = useTranslation('halo');\n  const client = useClient();\n  const identity = useIdentity();\n  const devices = useDevices();\n  const invitations = useHaloInvitations();\n\n  const handleCreateInvitation = useCallback(() => {\n    client.halo.createInvitation();\n  }, []);\n\n  const handleRemove = useCallback((id: string) => {\n    void client.halo.removeInvitation(id);\n  }, []);\n\n  return (\n    <>\n      <HeadingWithActions\n        className='mlb-4'\n        heading={{ children: t('devices label') }}\n        actions={\n          <Button variant='primary' className='grow flex gap-1' onClick={handleCreateInvitation}>\n            <Plus className={getSize(5)} />\n            {t('add device label')}\n          </Button>\n        }\n      />\n      <DeviceList devices={devices} currentDevice={identity?.deviceKey} />\n      <Heading level={2} className='text-xl mbs-4'>\n        {t('device invitations label')}\n      </Heading>\n      <InvitationList\n        invitations={invitations as unknown as CancellableInvitationObservable[] | undefined}\n        createInvitationUrl={(invitationCode) => createInvitationUrl('/identity/join', invitationCode)}\n        onClickRemove={handleRemove}\n      />\n    </>\n  );\n};\n\nexport default DevicesPage;\n","start":1670465438377,"end":1670465438632},{"name":"vite:react-babel","result":"//\n// Copyright 2022 DXOS.org\n//\n\nimport { Plus } from 'phosphor-react';\nimport React, { useCallback } from 'react';\nimport { CancellableInvitationObservable } from '@dxos/client';\nimport { HeadingWithActions, InvitationList } from '@dxos/react-appkit';\nimport { useClient, useDevices, useHaloInvitations, useIdentity } from '@dxos/react-client';\nimport { Heading } from '@dxos/react-ui';\nimport { Button, useTranslation, getSize } from '@dxos/react-uikit';\nimport { DeviceList } from '../components';\nimport { createInvitationUrl } from '../util';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nconst DevicesPage = () => {\n  const {\n    t\n  } = useTranslation('halo');\n  const client = useClient();\n  const identity = useIdentity();\n  const devices = useDevices();\n  const invitations = useHaloInvitations();\n  const handleCreateInvitation = useCallback(() => {\n    client.halo.createInvitation();\n  }, []);\n  const handleRemove = useCallback((id: string) => {\n    void client.halo.removeInvitation(id);\n  }, []);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(HeadingWithActions, {\n      className: \"mlb-4\",\n      heading: {\n        children: t('devices label')\n      },\n      actions: /*#__PURE__*/_jsxs(Button, {\n        variant: \"primary\",\n        className: \"grow flex gap-1\",\n        onClick: handleCreateInvitation,\n        children: [/*#__PURE__*/_jsx(Plus, {\n          className: getSize(5)\n        }), t('add device label')]\n      })\n    }), /*#__PURE__*/_jsx(DeviceList, {\n      devices: devices,\n      currentDevice: identity?.deviceKey\n    }), /*#__PURE__*/_jsx(Heading, {\n      level: 2,\n      className: \"text-xl mbs-4\",\n      children: t('device invitations label')\n    }), /*#__PURE__*/_jsx(InvitationList, {\n      invitations: ((invitations as unknown) as CancellableInvitationObservable[] | undefined),\n      createInvitationUrl: invitationCode => createInvitationUrl('/identity/join', invitationCode),\n      onClickRemove: handleRemove\n    })]\n  });\n};\nexport default DevicesPage;","start":1670465438632,"end":1670465438641,"order":"pre"},{"name":"vite:esbuild","result":"import { Plus } from \"phosphor-react\";\nimport { useCallback } from \"react\";\nimport { HeadingWithActions, InvitationList } from \"@dxos/react-appkit\";\nimport { useClient, useDevices, useHaloInvitations, useIdentity } from \"@dxos/react-client\";\nimport { Heading } from \"@dxos/react-ui\";\nimport { Button, useTranslation, getSize } from \"@dxos/react-uikit\";\nimport { DeviceList } from \"../components\";\nimport { createInvitationUrl } from \"../util\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nconst DevicesPage = () => {\n  const {\n    t\n  } = useTranslation(\"halo\");\n  const client = useClient();\n  const identity = useIdentity();\n  const devices = useDevices();\n  const invitations = useHaloInvitations();\n  const handleCreateInvitation = useCallback(() => {\n    client.halo.createInvitation();\n  }, []);\n  const handleRemove = useCallback((id) => {\n    void client.halo.removeInvitation(id);\n  }, []);\n  return /* @__PURE__ */ _jsxs(_Fragment, {\n    children: [/* @__PURE__ */ _jsx(HeadingWithActions, {\n      className: \"mlb-4\",\n      heading: {\n        children: t(\"devices label\")\n      },\n      actions: /* @__PURE__ */ _jsxs(Button, {\n        variant: \"primary\",\n        className: \"grow flex gap-1\",\n        onClick: handleCreateInvitation,\n        children: [/* @__PURE__ */ _jsx(Plus, {\n          className: getSize(5)\n        }), t(\"add device label\")]\n      })\n    }), /* @__PURE__ */ _jsx(DeviceList, {\n      devices,\n      currentDevice: identity?.deviceKey\n    }), /* @__PURE__ */ _jsx(Heading, {\n      level: 2,\n      className: \"text-xl mbs-4\",\n      children: t(\"device invitations label\")\n    }), /* @__PURE__ */ _jsx(InvitationList, {\n      invitations,\n      createInvitationUrl: (invitationCode) => createInvitationUrl(\"/identity/join\", invitationCode),\n      onClickRemove: handleRemove\n    })]\n  });\n};\nexport default DevicesPage;\n","start":1670465438641,"end":1670465438904,"order":"normal"}]}
