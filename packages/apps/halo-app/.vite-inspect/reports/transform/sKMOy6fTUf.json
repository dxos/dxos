{"resolvedId":"/home/jdw/Code/dxos/dxos/node_modules/.pnpm/@headlessui+react@1.7.4_biqbaboplfbrettd7655fr4n2y/node_modules/@headlessui/react/dist/components/tabs/tabs.js","transforms":[{"name":"vite:load-fallback","result":"import v,{Fragment as ae,createContext as N,useContext as B,useMemo as I,useReducer as le,useRef as w}from\"react\";import{render as C,Features as Z,forwardRefWithAs as F}from'../../utils/render.js';import{useId as ee}from'../../hooks/use-id.js';import{match as te}from'../../utils/match.js';import{Keys as m}from'../../components/keyboard.js';import{focusIn as h,Focus as P,sortByDomNode as re,FocusResult as H}from'../../utils/focus-management.js';import{useIsoMorphicEffect as K}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as _}from'../../hooks/use-sync-refs.js';import{useResolveButtonType as oe}from'../../hooks/use-resolve-button-type.js';import{useLatestValue as $}from'../../hooks/use-latest-value.js';import{FocusSentinel as se}from'../../internal/focus-sentinel.js';import{useEvent as O}from'../../hooks/use-event.js';import{microTask as ie}from'../../utils/micro-task.js';import{Hidden as ue}from'../../internal/hidden.js';import{getOwnerDocument as ce}from'../../utils/owner.js';var de=(n=>(n[n.SetSelectedIndex=0]=\"SetSelectedIndex\",n[n.RegisterTab=1]=\"RegisterTab\",n[n.UnregisterTab=2]=\"UnregisterTab\",n[n.RegisterPanel=3]=\"RegisterPanel\",n[n.UnregisterPanel=4]=\"UnregisterPanel\",n))(de||{});let pe={[0](e,t){let r=e.tabs.filter(i=>{var l;return!((l=i.current)!=null&&l.hasAttribute(\"disabled\"))});if(t.index<0)return{...e,selectedIndex:e.tabs.indexOf(r[0])};if(t.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(r[r.length-1])};let o=e.tabs.slice(0,t.index),n=[...e.tabs.slice(t.index),...o].find(i=>r.includes(i));return n?{...e,selectedIndex:e.tabs.indexOf(n)}:e},[1](e,t){var n;if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],o=re([...e.tabs,t.tab],i=>i.current),s=(n=o.indexOf(r))!=null?n:e.selectedIndex;return s===-1&&(s=e.selectedIndex),{...e,tabs:o,selectedIndex:s}},[2](e,t){return{...e,tabs:e.tabs.filter(r=>r!==t.tab)}},[3](e,t){return e.panels.includes(t.panel)?e:{...e,panels:re([...e.panels,t.panel],r=>r.current)}},[4](e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}}},z=N(null);z.displayName=\"TabsSSRContext\";function V(e){let t=B(z);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,V),r}return t}let q=N(null);q.displayName=\"TabsDataContext\";function D(e){let t=B(q);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,D),r}return t}let J=N(null);J.displayName=\"TabsActionsContext\";function Q(e){let t=B(J);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Q),r}return t}function fe(e,t){return te(t.type,pe,e,t)}let be=ae,Te=F(function(t,r){let{defaultIndex:o=0,vertical:s=!1,manual:n=!1,onChange:i,selectedIndex:l=null,...y}=t;const p=s?\"vertical\":\"horizontal\",S=n?\"manual\":\"auto\";let b=l!==null,u=_(r),[c,f]=le(fe,{selectedIndex:l!=null?l:o,tabs:[],panels:[]}),T=I(()=>({selectedIndex:c.selectedIndex}),[c.selectedIndex]),x=$(i||(()=>{})),R=$(c.tabs),E=I(()=>({orientation:p,activation:S,...c}),[p,S,c]),A=$(b?t.selectedIndex:c.selectedIndex),L=I(()=>({registerTab(d){return f({type:1,tab:d}),()=>f({type:2,tab:d})},registerPanel(d){return f({type:3,panel:d}),()=>f({type:4,panel:d})},change(d){A.current!==d&&x.current(d),b||f({type:0,index:d})}}),[f,b]);K(()=>{f({type:0,index:l!=null?l:o})},[l]);let k=w({tabs:[],panels:[]}),G={ref:u};return v.createElement(z.Provider,{value:k},v.createElement(J.Provider,{value:L},v.createElement(q.Provider,{value:E},E.tabs.length<=0&&v.createElement(se,{onFocus:()=>{var d,U;for(let M of R.current)if(((d=M.current)==null?void 0:d.tabIndex)===0)return(U=M.current)==null||U.focus(),!0;return!1}}),C({ourProps:G,theirProps:y,slot:T,defaultTag:be,name:\"Tabs\"}))))}),me=\"div\",Pe=F(function(t,r){let{orientation:o,selectedIndex:s}=D(\"Tab.List\"),n=_(r);return C({ourProps:{ref:n,role:\"tablist\",\"aria-orientation\":o},theirProps:t,slot:{selectedIndex:s},defaultTag:me,name:\"Tabs.List\"})}),xe=\"button\",ge=F(function(t,r){var M,X;let o=`headlessui-tabs-tab-${ee()}`,{orientation:s,activation:n,selectedIndex:i,tabs:l,panels:y}=D(\"Tab\"),p=Q(\"Tab\"),S=D(\"Tab\"),b=V(\"Tab\"),u=w(null),c=_(u,r);K(()=>p.registerTab(u),[p,u]);let f=b.current.tabs.indexOf(o);f===-1&&(f=b.current.tabs.push(o)-1);let T=l.indexOf(u);T===-1&&(T=f);let x=T===i,R=O(a=>{var j;let g=a();if(g===H.Success&&n===\"auto\"){let W=(j=ce(u))==null?void 0:j.activeElement,Y=S.tabs.findIndex(ne=>ne.current===W);Y!==-1&&p.change(Y)}return g}),E=O(a=>{let g=l.map(W=>W.current).filter(Boolean);if(a.key===m.Space||a.key===m.Enter){a.preventDefault(),a.stopPropagation(),p.change(T);return}switch(a.key){case m.Home:case m.PageUp:return a.preventDefault(),a.stopPropagation(),R(()=>h(g,P.First));case m.End:case m.PageDown:return a.preventDefault(),a.stopPropagation(),R(()=>h(g,P.Last))}if(R(()=>te(s,{vertical(){return a.key===m.ArrowUp?h(g,P.Previous|P.WrapAround):a.key===m.ArrowDown?h(g,P.Next|P.WrapAround):H.Error},horizontal(){return a.key===m.ArrowLeft?h(g,P.Previous|P.WrapAround):a.key===m.ArrowRight?h(g,P.Next|P.WrapAround):H.Error}}))===H.Success)return a.preventDefault()}),A=w(!1),L=O(()=>{var a;A.current||(A.current=!0,(a=u.current)==null||a.focus(),p.change(T),ie(()=>{A.current=!1}))}),k=O(a=>{a.preventDefault()}),G=I(()=>({selected:x}),[x]),d=t,U={ref:c,onKeyDown:E,onMouseDown:k,onClick:L,id:o,role:\"tab\",type:oe(t,u),\"aria-controls\":(X=(M=y[T])==null?void 0:M.current)==null?void 0:X.id,\"aria-selected\":x,tabIndex:x?0:-1};return C({ourProps:U,theirProps:d,slot:G,defaultTag:xe,name:\"Tabs.Tab\"})}),ye=\"div\",Re=F(function(t,r){let{selectedIndex:o}=D(\"Tab.Panels\"),s=_(r),n=I(()=>({selectedIndex:o}),[o]);return C({ourProps:{ref:s},theirProps:t,slot:n,defaultTag:ye,name:\"Tabs.Panels\"})}),Ae=\"div\",Ee=Z.RenderStrategy|Z.Static,Se=F(function(t,r){var R,E,A,L;let{selectedIndex:o,tabs:s,panels:n}=D(\"Tab.Panel\"),i=Q(\"Tab.Panel\"),l=V(\"Tab.Panel\"),y=`headlessui-tabs-panel-${ee()}`,p=w(null),S=_(p,r);K(()=>i.registerPanel(p),[i,p]);let b=l.current.panels.indexOf(y);b===-1&&(b=l.current.panels.push(y)-1);let u=n.indexOf(p);u===-1&&(u=b);let c=u===o,f=I(()=>({selected:c}),[c]),T=t,x={ref:S,id:y,role:\"tabpanel\",\"aria-labelledby\":(E=(R=s[u])==null?void 0:R.current)==null?void 0:E.id,tabIndex:c?0:-1};return!c&&((A=t.unmount)!=null?A:!0)&&!((L=t.static)!=null&&L)?v.createElement(ue,{as:\"span\",...x}):C({ourProps:x,theirProps:T,slot:f,defaultTag:Ae,features:Ee,visible:c,name:\"Tabs.Panel\"})}),qe=Object.assign(ge,{Group:Te,List:Pe,Panels:Re,Panel:Se});export{qe as Tab};\n","start":1670465467601,"end":1670465467997},{"name":"vite:react-babel","result":"import v, { Fragment as ae, createContext as N, useContext as B, useMemo as I, useReducer as le, useRef as w } from \"react\";\nimport { render as C, Features as Z, forwardRefWithAs as F } from '../../utils/render.js';\nimport { useId as ee } from '../../hooks/use-id.js';\nimport { match as te } from '../../utils/match.js';\nimport { Keys as m } from '../../components/keyboard.js';\nimport { focusIn as h, Focus as P, sortByDomNode as re, FocusResult as H } from '../../utils/focus-management.js';\nimport { useIsoMorphicEffect as K } from '../../hooks/use-iso-morphic-effect.js';\nimport { useSyncRefs as _ } from '../../hooks/use-sync-refs.js';\nimport { useResolveButtonType as oe } from '../../hooks/use-resolve-button-type.js';\nimport { useLatestValue as $ } from '../../hooks/use-latest-value.js';\nimport { FocusSentinel as se } from '../../internal/focus-sentinel.js';\nimport { useEvent as O } from '../../hooks/use-event.js';\nimport { microTask as ie } from '../../utils/micro-task.js';\nimport { Hidden as ue } from '../../internal/hidden.js';\nimport { getOwnerDocument as ce } from '../../utils/owner.js';\nvar de = (n => (n[n.SetSelectedIndex = 0] = \"SetSelectedIndex\", n[n.RegisterTab = 1] = \"RegisterTab\", n[n.UnregisterTab = 2] = \"UnregisterTab\", n[n.RegisterPanel = 3] = \"RegisterPanel\", n[n.UnregisterPanel = 4] = \"UnregisterPanel\", n))(de || {});\nlet pe = {\n    [0](e, t) {\n      let r = e.tabs.filter(i => {\n        var l;\n        return !((l = i.current) != null && l.hasAttribute(\"disabled\"));\n      });\n      if (t.index < 0) return {\n        ...e,\n        selectedIndex: e.tabs.indexOf(r[0])\n      };\n      if (t.index > e.tabs.length) return {\n        ...e,\n        selectedIndex: e.tabs.indexOf(r[r.length - 1])\n      };\n      let o = e.tabs.slice(0, t.index),\n        n = [...e.tabs.slice(t.index), ...o].find(i => r.includes(i));\n      return n ? {\n        ...e,\n        selectedIndex: e.tabs.indexOf(n)\n      } : e;\n    },\n    [1](e, t) {\n      var n;\n      if (e.tabs.includes(t.tab)) return e;\n      let r = e.tabs[e.selectedIndex],\n        o = re([...e.tabs, t.tab], i => i.current),\n        s = (n = o.indexOf(r)) != null ? n : e.selectedIndex;\n      return s === -1 && (s = e.selectedIndex), {\n        ...e,\n        tabs: o,\n        selectedIndex: s\n      };\n    },\n    [2](e, t) {\n      return {\n        ...e,\n        tabs: e.tabs.filter(r => r !== t.tab)\n      };\n    },\n    [3](e, t) {\n      return e.panels.includes(t.panel) ? e : {\n        ...e,\n        panels: re([...e.panels, t.panel], r => r.current)\n      };\n    },\n    [4](e, t) {\n      return {\n        ...e,\n        panels: e.panels.filter(r => r !== t.panel)\n      };\n    }\n  },\n  z = N(null);\nz.displayName = \"TabsSSRContext\";\nfunction V(e) {\n  let t = B(z);\n  if (t === null) {\n    let r = new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(r, V), r;\n  }\n  return t;\n}\nlet q = N(null);\nq.displayName = \"TabsDataContext\";\nfunction D(e) {\n  let t = B(q);\n  if (t === null) {\n    let r = new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(r, D), r;\n  }\n  return t;\n}\nlet J = N(null);\nJ.displayName = \"TabsActionsContext\";\nfunction Q(e) {\n  let t = B(J);\n  if (t === null) {\n    let r = new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(r, Q), r;\n  }\n  return t;\n}\nfunction fe(e, t) {\n  return te(t.type, pe, e, t);\n}\nlet be = ae,\n  Te = F(function (t, r) {\n    let {\n      defaultIndex: o = 0,\n      vertical: s = !1,\n      manual: n = !1,\n      onChange: i,\n      selectedIndex: l = null,\n      ...y\n    } = t;\n    const p = s ? \"vertical\" : \"horizontal\",\n      S = n ? \"manual\" : \"auto\";\n    let b = l !== null,\n      u = _(r),\n      [c, f] = le(fe, {\n        selectedIndex: l != null ? l : o,\n        tabs: [],\n        panels: []\n      }),\n      T = I(() => ({\n        selectedIndex: c.selectedIndex\n      }), [c.selectedIndex]),\n      x = $(i || (() => {})),\n      R = $(c.tabs),\n      E = I(() => ({\n        orientation: p,\n        activation: S,\n        ...c\n      }), [p, S, c]),\n      A = $(b ? t.selectedIndex : c.selectedIndex),\n      L = I(() => ({\n        registerTab(d) {\n          return f({\n            type: 1,\n            tab: d\n          }), () => f({\n            type: 2,\n            tab: d\n          });\n        },\n        registerPanel(d) {\n          return f({\n            type: 3,\n            panel: d\n          }), () => f({\n            type: 4,\n            panel: d\n          });\n        },\n        change(d) {\n          A.current !== d && x.current(d), b || f({\n            type: 0,\n            index: d\n          });\n        }\n      }), [f, b]);\n    K(() => {\n      f({\n        type: 0,\n        index: l != null ? l : o\n      });\n    }, [l]);\n    let k = w({\n        tabs: [],\n        panels: []\n      }),\n      G = {\n        ref: u\n      };\n    return v.createElement(z.Provider, {\n      value: k\n    }, v.createElement(J.Provider, {\n      value: L\n    }, v.createElement(q.Provider, {\n      value: E\n    }, E.tabs.length <= 0 && v.createElement(se, {\n      onFocus: () => {\n        var d, U;\n        for (let M of R.current) if (((d = M.current) == null ? void 0 : d.tabIndex) === 0) return (U = M.current) == null || U.focus(), !0;\n        return !1;\n      }\n    }), C({\n      ourProps: G,\n      theirProps: y,\n      slot: T,\n      defaultTag: be,\n      name: \"Tabs\"\n    }))));\n  }),\n  me = \"div\",\n  Pe = F(function (t, r) {\n    let {\n        orientation: o,\n        selectedIndex: s\n      } = D(\"Tab.List\"),\n      n = _(r);\n    return C({\n      ourProps: {\n        ref: n,\n        role: \"tablist\",\n        \"aria-orientation\": o\n      },\n      theirProps: t,\n      slot: {\n        selectedIndex: s\n      },\n      defaultTag: me,\n      name: \"Tabs.List\"\n    });\n  }),\n  xe = \"button\",\n  ge = F(function (t, r) {\n    var M, X;\n    let o = `headlessui-tabs-tab-${ee()}`,\n      {\n        orientation: s,\n        activation: n,\n        selectedIndex: i,\n        tabs: l,\n        panels: y\n      } = D(\"Tab\"),\n      p = Q(\"Tab\"),\n      S = D(\"Tab\"),\n      b = V(\"Tab\"),\n      u = w(null),\n      c = _(u, r);\n    K(() => p.registerTab(u), [p, u]);\n    let f = b.current.tabs.indexOf(o);\n    f === -1 && (f = b.current.tabs.push(o) - 1);\n    let T = l.indexOf(u);\n    T === -1 && (T = f);\n    let x = T === i,\n      R = O(a => {\n        var j;\n        let g = a();\n        if (g === H.Success && n === \"auto\") {\n          let W = (j = ce(u)) == null ? void 0 : j.activeElement,\n            Y = S.tabs.findIndex(ne => ne.current === W);\n          Y !== -1 && p.change(Y);\n        }\n        return g;\n      }),\n      E = O(a => {\n        let g = l.map(W => W.current).filter(Boolean);\n        if (a.key === m.Space || a.key === m.Enter) {\n          a.preventDefault(), a.stopPropagation(), p.change(T);\n          return;\n        }\n        switch (a.key) {\n          case m.Home:\n          case m.PageUp:\n            return a.preventDefault(), a.stopPropagation(), R(() => h(g, P.First));\n          case m.End:\n          case m.PageDown:\n            return a.preventDefault(), a.stopPropagation(), R(() => h(g, P.Last));\n        }\n        if (R(() => te(s, {\n          vertical() {\n            return a.key === m.ArrowUp ? h(g, P.Previous | P.WrapAround) : a.key === m.ArrowDown ? h(g, P.Next | P.WrapAround) : H.Error;\n          },\n          horizontal() {\n            return a.key === m.ArrowLeft ? h(g, P.Previous | P.WrapAround) : a.key === m.ArrowRight ? h(g, P.Next | P.WrapAround) : H.Error;\n          }\n        })) === H.Success) return a.preventDefault();\n      }),\n      A = w(!1),\n      L = O(() => {\n        var a;\n        A.current || (A.current = !0, (a = u.current) == null || a.focus(), p.change(T), ie(() => {\n          A.current = !1;\n        }));\n      }),\n      k = O(a => {\n        a.preventDefault();\n      }),\n      G = I(() => ({\n        selected: x\n      }), [x]),\n      d = t,\n      U = {\n        ref: c,\n        onKeyDown: E,\n        onMouseDown: k,\n        onClick: L,\n        id: o,\n        role: \"tab\",\n        type: oe(t, u),\n        \"aria-controls\": (X = (M = y[T]) == null ? void 0 : M.current) == null ? void 0 : X.id,\n        \"aria-selected\": x,\n        tabIndex: x ? 0 : -1\n      };\n    return C({\n      ourProps: U,\n      theirProps: d,\n      slot: G,\n      defaultTag: xe,\n      name: \"Tabs.Tab\"\n    });\n  }),\n  ye = \"div\",\n  Re = F(function (t, r) {\n    let {\n        selectedIndex: o\n      } = D(\"Tab.Panels\"),\n      s = _(r),\n      n = I(() => ({\n        selectedIndex: o\n      }), [o]);\n    return C({\n      ourProps: {\n        ref: s\n      },\n      theirProps: t,\n      slot: n,\n      defaultTag: ye,\n      name: \"Tabs.Panels\"\n    });\n  }),\n  Ae = \"div\",\n  Ee = Z.RenderStrategy | Z.Static,\n  Se = F(function (t, r) {\n    var R, E, A, L;\n    let {\n        selectedIndex: o,\n        tabs: s,\n        panels: n\n      } = D(\"Tab.Panel\"),\n      i = Q(\"Tab.Panel\"),\n      l = V(\"Tab.Panel\"),\n      y = `headlessui-tabs-panel-${ee()}`,\n      p = w(null),\n      S = _(p, r);\n    K(() => i.registerPanel(p), [i, p]);\n    let b = l.current.panels.indexOf(y);\n    b === -1 && (b = l.current.panels.push(y) - 1);\n    let u = n.indexOf(p);\n    u === -1 && (u = b);\n    let c = u === o,\n      f = I(() => ({\n        selected: c\n      }), [c]),\n      T = t,\n      x = {\n        ref: S,\n        id: y,\n        role: \"tabpanel\",\n        \"aria-labelledby\": (E = (R = s[u]) == null ? void 0 : R.current) == null ? void 0 : E.id,\n        tabIndex: c ? 0 : -1\n      };\n    return !c && ((A = t.unmount) != null ? A : !0) && !((L = t.static) != null && L) ? v.createElement(ue, {\n      as: \"span\",\n      ...x\n    }) : C({\n      ourProps: x,\n      theirProps: T,\n      slot: f,\n      defaultTag: Ae,\n      features: Ee,\n      visible: c,\n      name: \"Tabs.Panel\"\n    });\n  }),\n  qe = Object.assign(ge, {\n    Group: Te,\n    List: Pe,\n    Panels: Re,\n    Panel: Se\n  });\nexport { qe as Tab };","start":1670465467997,"end":1670465468018,"order":"pre"}]}
