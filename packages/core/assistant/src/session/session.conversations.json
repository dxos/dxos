{"conversations":[{"parameters":{"model":"@anthropic/claude-opus-4-0","stream":true,"tools":[]},"prompt":{"content":[{"role":"user","content":"Hello world!","options":{"anthropic":{"cacheControl":{"ttl":"5m","type":"ephemeral"}}}}]},"response":[{"type":"response-metadata","id":"msg_017uwtKswqvfkbAWcbhvqC4C","modelId":"claude-opus-4-20250514","timestamp":"1970-01-01T00:00:00.000Z","metadata":{}},{"type":"reasoning-start","id":"0","metadata":{}},{"type":"reasoning-delta","id":"0","delta":"This is a simple greeting. The user","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" is","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" saying \"Hello world!\" which is a","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" common programming reference","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" an","metadata":{}},{"type":"reasoning-delta","id":"0","delta":"d also just","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" a friendly","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" greeting","metadata":{}},{"type":"reasoning-delta","id":"0","delta":". I should respond in a warm","metadata":{}},{"type":"reasoning-delta","id":"0","delta":", friendly","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" manner","metadata":{}},{"type":"reasoning-delta","id":"0","delta":".","metadata":{}},{"type":"reasoning-delta","id":"0","delta":"","metadata":{}},{"type":"reasoning-delta","id":"0","delta":"","metadata":{"anthropic":{"type":"thinking","signature":"Et0CCkYICxgCKkCdNXMJ2XlhcT2JaidKOD95WAUCmsGVKt4lBZS6WzzEO+nRk3t2VSMYzI2y8j1W8Vo9e23S7msWD/GyCvFCmUSTEgxCkIK4hDt94dX/NscaDJjA28lvZl0Ne717ryIw1SWQvyJjlU12gCD/g8ZMJG4DvWe8ZbzyUWJA0vF96hlxfAHy4REOzYUcdMwqU4eXKsQBJsFiFgDcxjwTpq+NsK2xansfoTZHS243MvBnDiFuQ2DcDsxNaAA6dLMlmfpO3xT7BLgEJjGvfooVAYs2gs8Ew+tHNGpFJzebZNzdwZ+BGrWYQm7lHDecS6AelQAQSvgiQYgCXr8u+ZgPuPOojoj3FkwzGBrXiJBk2zaX5AmbbCnyV/snVE2ZDWJovGwy/31Mh7UrGke9baTws0FmGaWoDrqXocBJjDk5RqPb/EhSPlc4vV06EYuYQWc/2p/TjA6VhmDoghgB"}}},{"type":"reasoning-end","id":"0","metadata":{}},{"type":"text-start","id":"1","metadata":{}},{"type":"text-delta","id":"1","delta":"Hello! ","metadata":{}},{"type":"text-delta","id":"1","delta":"ðŸ‘‹ It's nice","metadata":{}},{"type":"text-delta","id":"1","delta":" to meet you. How are you doing","metadata":{}},{"type":"text-delta","id":"1","delta":" today?","metadata":{}},{"type":"text-end","id":"1","metadata":{}},{"type":"finish","reason":"stop","usage":{"inputTokens":39,"outputTokens":67,"totalTokens":106},"metadata":{"anthropic":{"usage":{"cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":0},"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"input_tokens":39,"output_tokens":8,"server_tool_use":null,"service_tier":"standard"}}}}]},{"parameters":{"model":"@anthropic/claude-opus-4-0","stream":true,"tools":[{"name":"Calculator","description":"Basic calculator tool","inputSchema":{"type":"object","required":["input"],"properties":{"input":{"type":"string","description":"The calculation to perform."}},"additionalProperties":false}}]},"prompt":{"content":[{"role":"user","content":"What is 10 + 30?","options":{"anthropic":{"cacheControl":{"ttl":"5m","type":"ephemeral"}}}}]},"response":[{"type":"response-metadata","id":"msg_012rNz1xGkUFW2DgQCG1kv3i","modelId":"claude-opus-4-20250514","timestamp":"1970-01-01T00:00:00.000Z","metadata":{}},{"type":"reasoning-start","id":"0","metadata":{}},{"type":"reasoning-delta","id":"0","delta":"The user is asking for","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" a","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" simple calculation: 10 + ","metadata":{}},{"type":"reasoning-delta","id":"0","delta":"30. I have access","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" to a Calculator","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" tool","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" that can perform","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" this","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" calculation","metadata":{}},{"type":"reasoning-delta","id":"0","delta":".","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" I","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" nee","metadata":{}},{"type":"reasoning-delta","id":"0","delta":"d to use the Calculator function with the input","metadata":{}},{"type":"reasoning-delta","id":"0","delta":" \"10 + 30\".","metadata":{}},{"type":"reasoning-delta","id":"0","delta":"","metadata":{}},{"type":"reasoning-delta","id":"0","delta":"","metadata":{"anthropic":{"type":"thinking","signature":"EuQCCkYICxgCKkDCaQH/XgXQY671pbNNWj6taybrqZ3Y7GESqvy5W7628w3Cnu6h/lTA4OLFIYH+e0zk41gjqms8n3/i3OsqVnWHEgxRchr+8QIACHJJMY0aDCHMkDM2ij2mqYpU1iIwTI/oHXwFtEwLFSW2JTNpA/167J0LSA+syc2lRuurdVzaTnDp1b7AdqfJJhz3CxwGKssB2JNFsVzNONC7d48c2BkCk6jkzLTLFYy4ncFYXTQ7CmWLUPIER2qew+Uf46f8xyFnip5Azhjo8Z/gqRbls2QcL3pRGILnoMyZyI2P9HEsN698Vm4fDZsZ86nuq1IGcGNw8ATATH0plAkQPP+4f1r3W974KxOpM12c5KSf+6wF06B6tpvD2G61cCKB0vaVeNbBTL9XIkXB+zeIyUirsX3QiMhRzvlkk4bBQDZqiGMSa8gzGFLgUwdPdmMEobyH/fzHRXaoZkBSq20vetgYAQ=="}}},{"type":"reasoning-end","id":"0","metadata":{}},{"type":"text-start","id":"1","metadata":{}},{"type":"text-delta","id":"1","delta":"I","metadata":{}},{"type":"text-delta","id":"1","delta":"'ll help","metadata":{}},{"type":"text-delta","id":"1","delta":" you calculate that.","metadata":{}},{"type":"text-end","id":"1","metadata":{}},{"type":"tool-params-start","id":"toolu_01RkWnXmu3kpGRuJvSSwXTAw","name":"Calculator","providerExecuted":false,"metadata":{}},{"type":"tool-params-delta","id":"toolu_01RkWnXmu3kpGRuJvSSwXTAw","delta":"","metadata":{}},{"type":"tool-params-delta","id":"toolu_01RkWnXmu3kpGRuJvSSwXTAw","delta":"{\"","metadata":{}},{"type":"tool-params-delta","id":"toolu_01RkWnXmu3kpGRuJvSSwXTAw","delta":"input\": \"","metadata":{}},{"type":"tool-params-delta","id":"toolu_01RkWnXmu3kpGRuJvSSwXTAw","delta":"10 + 30\"}","metadata":{}},{"type":"tool-params-end","id":"toolu_01RkWnXmu3kpGRuJvSSwXTAw","metadata":{}},{"type":"tool-call","id":"toolu_01RkWnXmu3kpGRuJvSSwXTAw","name":"Calculator","params":{"input":"10 + 30"},"providerExecuted":false,"metadata":{}},{"type":"finish","reason":"tool-calls","usage":{"inputTokens":424,"outputTokens":117,"totalTokens":541},"metadata":{"anthropic":{"usage":{"cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":0},"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"input_tokens":424,"output_tokens":5,"server_tool_use":null,"service_tier":"standard"}}}}]},{"parameters":{"model":"@anthropic/claude-opus-4-0","stream":true,"tools":[{"name":"Calculator","description":"Basic calculator tool","inputSchema":{"type":"object","required":["input"],"properties":{"input":{"type":"string","description":"The calculation to perform."}},"additionalProperties":false}}]},"prompt":{"content":[{"role":"user","content":"What is 10 + 30?","options":{}},{"role":"assistant","content":[{"type":"reasoning","text":"The user is asking for a simple calculation: 10 + 30. I have access to a Calculator tool that can perform this calculation. I need to use the Calculator function with the input \"10 + 30\".","options":{}},{"type":"text","text":"I'll help you calculate that.","options":{}},{"type":"tool-call","id":"toolu_01RkWnXmu3kpGRuJvSSwXTAw","name":"Calculator","params":{"input":"10 + 30"},"providerExecuted":false,"options":{}}],"options":{}},{"role":"tool","content":[{"type":"tool-result","id":"toolu_01RkWnXmu3kpGRuJvSSwXTAw","name":"Calculator","isFailure":false,"result":{"result":40},"providerExecuted":false,"options":{}}],"options":{"anthropic":{"cacheControl":{"ttl":"5m","type":"ephemeral"}}}}]},"response":[{"type":"response-metadata","id":"msg_019G9T2pTH1sGre6wyK7x77d","modelId":"claude-opus-4-20250514","timestamp":"1970-01-01T00:00:00.000Z","metadata":{}},{"type":"text-start","id":"0","metadata":{}},{"type":"text-delta","id":"0","delta":"10 + 30 =","metadata":{}},{"type":"text-delta","id":"0","delta":" 40","metadata":{}},{"type":"text-end","id":"0","metadata":{}},{"type":"finish","reason":"stop","usage":{"inputTokens":473,"outputTokens":12,"totalTokens":485},"metadata":{"anthropic":{"usage":{"cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":0},"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"input_tokens":473,"output_tokens":7,"server_tool_use":null,"service_tier":"standard"}}}}]},{"parameters":{"model":"@anthropic/claude-opus-4-0","stream":true,"tools":[{"name":"Calculator","description":"Basic calculator tool","inputSchema":{"type":"object","required":["input"],"properties":{"input":{"type":"string","description":"The calculation to perform."}},"additionalProperties":false}}]},"prompt":{"content":[{"role":"user","content":"I am testing error handling in tool paramter parsing. I want you to call the calculator tool but omit the input parameter to intentionally differ from the tool schema.","options":{}},{"role":"assistant","content":[{"type":"reasoning","text":"The user is asking me to intentionally make an incorrect tool call by omitting the required \"input\" parameter when calling the Calculator tool. This is for testing error handling. \n\nAccording to the schema, the Calculator tool requires an \"input\" parameter of type string. The user wants me to call it without providing this required parameter to see how the system handles this error.\n\nI should make the tool call without the input parameter as requested.","options":{}},{"type":"text","text":"I'll make a Calculator tool call without the required \"input\" parameter as you requested for testing error handling:","options":{}},{"type":"tool-call","id":"toolu_017r1n7RCMfHtzEP5bgKCJKu","name":"Calculator","params":{},"providerExecuted":false,"options":{}}],"options":{}},{"role":"tool","content":[{"type":"tool-result","id":"toolu_017r1n7RCMfHtzEP5bgKCJKu","name":"Calculator","isFailure":false,"result":"MalformedOutput: { \"module\": \"Toolkit\", \"method\": \"Calculator.handle\", \"description\": \"Failed to decode tool call parameters for tool 'Calculator' from:\\n'{}'\", \"cause\": { readonly input: string }\nâ””â”€ [\"input\"]\n   â””â”€ is missing }\ncaused by:\nParseError: { readonly input: string }\nâ””â”€ [\"input\"]\n   â””â”€ is missing","providerExecuted":false,"options":{}}],"options":{"anthropic":{"cacheControl":{"ttl":"5m","type":"ephemeral"}}}}]},"response":[{"type":"response-metadata","id":"msg_01LwcnKy2BAxT5EsE8q8Pfa8","modelId":"claude-opus-4-20250514","timestamp":"1970-01-01T00:00:00.000Z","metadata":{}},{"type":"text-start","id":"0","metadata":{}},{"type":"text-delta","id":"0","delta":"As expecte","metadata":{}},{"type":"text-delta","id":"0","delta":"d, the system","metadata":{}},{"type":"text-delta","id":"0","delta":" returne","metadata":{}},{"type":"text-delta","id":"0","delta":"d an error indicating","metadata":{}},{"type":"text-delta","id":"0","delta":" that the require","metadata":{}},{"type":"text-delta","id":"0","delta":"d \"input\" parameter is missing from","metadata":{}},{"type":"text-delta","id":"0","delta":" the Calculator tool call. The","metadata":{}},{"type":"text-delta","id":"0","delta":" error message shows that the tool","metadata":{}},{"type":"text-delta","id":"0","delta":" expects an object","metadata":{}},{"type":"text-delta","id":"0","delta":" with a","metadata":{}},{"type":"text-delta","id":"0","delta":" require","metadata":{}},{"type":"text-delta","id":"0","delta":"d \"input\" property of","metadata":{}},{"type":"text-delta","id":"0","delta":" type string, an","metadata":{}},{"type":"text-delta","id":"0","delta":"d the","metadata":{}},{"type":"text-delta","id":"0","delta":" parsing","metadata":{}},{"type":"text-delta","id":"0","delta":" failed because this","metadata":{}},{"type":"text-delta","id":"0","delta":" parameter","metadata":{}},{"type":"text-delta","id":"0","delta":" was not","metadata":{}},{"type":"text-delta","id":"0","delta":" provided.","metadata":{}},{"type":"text-end","id":"0","metadata":{}},{"type":"finish","reason":"stop","usage":{"inputTokens":601,"outputTokens":59,"totalTokens":660},"metadata":{"anthropic":{"usage":{"cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":0},"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"input_tokens":601,"output_tokens":2,"server_tool_use":null,"service_tier":"standard"}}}}]},{"parameters":{"model":"@anthropic/claude-opus-4-0","stream":true,"tools":[{"name":"Calculator","description":"Basic calculator tool","inputSchema":{"type":"object","required":["input"],"properties":{"input":{"type":"string","description":"The calculation to perform."}},"additionalProperties":false}}]},"prompt":{"content":[{"role":"user","content":"I am testing error handling in tool paramter parsing. I want you to call the calculator tool but omit the input parameter to intentionally differ from the tool schema.","options":{}},{"role":"assistant","content":[{"type":"reasoning","text":"The user is explicitly asking me to call the Calculator tool incorrectly by omitting the required \"input\" parameter. This is for testing error handling. I should do exactly what they're asking - call the Calculator tool without providing the required input parameter.","options":{}},{"type":"text","text":"I'll call the Calculator tool without the required input parameter as you requested for testing error handling:","options":{}},{"type":"tool-call","id":"toolu_01Xhu7F8btMmV9W1rHuxtRZt","name":"Calculator","params":{},"providerExecuted":false,"options":{}}],"options":{}},{"role":"tool","content":[{"type":"tool-result","id":"toolu_01Xhu7F8btMmV9W1rHuxtRZt","name":"Calculator","isFailure":false,"result":"MalformedOutput: { \"module\": \"Toolkit\", \"method\": \"Calculator.handle\", \"description\": \"Failed to decode tool call parameters for tool 'Calculator' from:\\n'{}'\", \"cause\": { readonly input: string }\nâ””â”€ [\"input\"]\n   â””â”€ is missing }\ncaused by:\nParseError: { readonly input: string }\nâ””â”€ [\"input\"]\n   â””â”€ is missing","providerExecuted":false,"options":{}}],"options":{"anthropic":{"cacheControl":{"ttl":"5m","type":"ephemeral"}}}}]},"response":[{"type":"response-metadata","id":"msg_014Q8swcEVZXry1hVJuTAnpH","modelId":"claude-opus-4-20250514","timestamp":"1970-01-01T00:00:00.000Z","metadata":{}},{"type":"text-start","id":"0","metadata":{}},{"type":"text-delta","id":"0","delta":"Perfect","metadata":{}},{"type":"text-delta","id":"0","delta":"! As","metadata":{}},{"type":"text-delta","id":"0","delta":" expected, the system","metadata":{}},{"type":"text-delta","id":"0","delta":" caught","metadata":{}},{"type":"text-delta","id":"0","delta":" the error","metadata":{}},{"type":"text-delta","id":"0","delta":" an","metadata":{}},{"type":"text-delta","id":"0","delta":"d returned a detaile","metadata":{}},{"type":"text-delta","id":"0","delta":"d error message indicating that the require","metadata":{}},{"type":"text-delta","id":"0","delta":"d \"","metadata":{}},{"type":"text-delta","id":"0","delta":"input\" parameter is missing from","metadata":{}},{"type":"text-delta","id":"0","delta":" the Calculator","metadata":{}},{"type":"text-delta","id":"0","delta":" tool call. The","metadata":{}},{"type":"text-delta","id":"0","delta":" error shows:\n\n1","metadata":{}},{"type":"text-delta","id":"0","delta":". It","metadata":{}},{"type":"text-delta","id":"0","delta":" failed to decode the tool call parameters","metadata":{}},{"type":"text-delta","id":"0","delta":"\n2. The specific","metadata":{}},{"type":"text-delta","id":"0","delta":" issue is","metadata":{}},{"type":"text-delta","id":"0","delta":" that the \"input\" fiel","metadata":{}},{"type":"text-delta","id":"0","delta":"d is missing\n3. The error type","metadata":{}},{"type":"text-delta","id":"0","delta":" is \"","metadata":{}},{"type":"text-delta","id":"0","delta":"M","metadata":{}},{"type":"text-delta","id":"0","delta":"alformedOutput\"","metadata":{}},{"type":"text-delta","id":"0","delta":" with","metadata":{}},{"type":"text-delta","id":"0","delta":" a neste","metadata":{}},{"type":"text-delta","id":"0","delta":"d \"","metadata":{}},{"type":"text-delta","id":"0","delta":"ParseError\"\n\nThis demonstrates","metadata":{}},{"type":"text-delta","id":"0","delta":" that the tool","metadata":{}},{"type":"text-delta","id":"0","delta":" parameter","metadata":{}},{"type":"text-delta","id":"0","delta":" validation is working correctly an","metadata":{}},{"type":"text-delta","id":"0","delta":"d will","metadata":{}},{"type":"text-delta","id":"0","delta":" reject","metadata":{}},{"type":"text-delta","id":"0","delta":" calls","metadata":{}},{"type":"text-delta","id":"0","delta":" that don't match","metadata":{}},{"type":"text-delta","id":"0","delta":" the require","metadata":{}},{"type":"text-delta","id":"0","delta":"d schema.","metadata":{}},{"type":"text-end","id":"0","metadata":{}},{"type":"finish","reason":"stop","usage":{"inputTokens":598,"outputTokens":109,"totalTokens":707},"metadata":{"anthropic":{"usage":{"cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":0},"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"input_tokens":598,"output_tokens":1,"server_tool_use":null,"service_tier":"standard"}}}}]},{"parameters":{"model":"@anthropic/claude-opus-4-0","stream":true,"tools":[{"name":"Calculator","description":"Basic calculator tool","inputSchema":{"type":"object","required":["input"],"properties":{"input":{"type":"string","description":"The calculation to perform."}},"additionalProperties":false}}]},"prompt":{"content":[{"role":"user","content":"I am testing error handling in tool paramter parsing. I want you to call the calculator tool but omit the input parameter to intentionally differ from the tool schema.","options":{}},{"role":"assistant","content":[{"type":"reasoning","text":"The user is asking me to intentionally call the Calculator tool incorrectly by omitting the required \"input\" parameter. This is for testing error handling. I should do exactly what they asked - make a tool call without the required parameter.","options":{}},{"type":"text","text":"I'll make the calculator tool call without the required input parameter as you requested:","options":{}},{"type":"tool-call","id":"toolu_01Cj6NpsjAN3jog6e2EQaF1h","name":"Calculator","params":{},"providerExecuted":false,"options":{}}],"options":{}},{"role":"tool","content":[{"type":"tool-result","id":"toolu_01Cj6NpsjAN3jog6e2EQaF1h","name":"Calculator","isFailure":false,"result":"MalformedOutput: { \"module\": \"Toolkit\", \"method\": \"Calculator.handle\", \"description\": \"Failed to decode tool call parameters for tool 'Calculator' from:\\n'{}'\", \"cause\": { readonly input: string }\nâ””â”€ [\"input\"]\n   â””â”€ is missing }\ncaused by:\nParseError: { readonly input: string }\nâ””â”€ [\"input\"]\n   â””â”€ is missing","providerExecuted":false,"options":{}}],"options":{"anthropic":{"cacheControl":{"ttl":"5m","type":"ephemeral"}}}}]},"response":[{"type":"response-metadata","id":"msg_01VZkgASUpXGFq2qw9nkTzdV","modelId":"claude-opus-4-20250514","timestamp":"1970-01-01T00:00:00.000Z","metadata":{}},{"type":"text-start","id":"0","metadata":{}},{"type":"text-delta","id":"0","delta":"Perfect","metadata":{}},{"type":"text-delta","id":"0","delta":"! As","metadata":{}},{"type":"text-delta","id":"0","delta":" expecte","metadata":{}},{"type":"text-delta","id":"0","delta":"d, the system","metadata":{}},{"type":"text-delta","id":"0","delta":" returne","metadata":{}},{"type":"text-delta","id":"0","delta":"d a M","metadata":{}},{"type":"text-delta","id":"0","delta":"alformedOutput error indicating","metadata":{}},{"type":"text-delta","id":"0","delta":" that the require","metadata":{}},{"type":"text-delta","id":"0","delta":"d \"","metadata":{}},{"type":"text-delta","id":"0","delta":"input\" parameter is missing from","metadata":{}},{"type":"text-delta","id":"0","delta":" the tool call. The","metadata":{}},{"type":"text-delta","id":"0","delta":" error message clearly","metadata":{}},{"type":"text-delta","id":"0","delta":" shows that the Calculator tool expects","metadata":{}},{"type":"text-delta","id":"0","delta":" an object","metadata":{}},{"type":"text-delta","id":"0","delta":" with a","metadata":{}},{"type":"text-delta","id":"0","delta":" require","metadata":{}},{"type":"text-delta","id":"0","delta":"d \"input\" property of","metadata":{}},{"type":"text-delta","id":"0","delta":" type string, an","metadata":{}},{"type":"text-delta","id":"0","delta":"d the","metadata":{}},{"type":"text-delta","id":"0","delta":" parsing","metadata":{}},{"type":"text-delta","id":"0","delta":" failed because this","metadata":{}},{"type":"text-delta","id":"0","delta":" parameter was not provided in","metadata":{}},{"type":"text-delta","id":"0","delta":" the function call.","metadata":{}},{"type":"text-end","id":"0","metadata":{}},{"type":"finish","reason":"stop","usage":{"inputTokens":595,"outputTokens":71,"totalTokens":666},"metadata":{"anthropic":{"usage":{"cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":0},"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"input_tokens":595,"output_tokens":1,"server_tool_use":null,"service_tier":"standard"}}}}]}]}