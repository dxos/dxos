//
// Copyright 2020 DXOS.org
//

syntax = "proto3";

import "google/protobuf/empty.proto";

import "dxos/keys.proto";

package dxos.iframe;

message StartRequest {
  string origin = 1;
}

/// Worker-to-iframe RPCs.
service IframeService {
  rpc Heartbeat(google.protobuf.Empty) returns (google.protobuf.Empty);
}

/// Iframe-to-worker RPCs.
service WorkerService {
  rpc Start(StartRequest) returns (google.protobuf.Empty);
  rpc Stop(google.protobuf.Empty) returns (google.protobuf.Empty);
}

enum EmbedLayout {
  HIDDEN = 0;
  FULLSCREEN = 1;
}

message LayoutRequest {
  EmbedLayout layout = 1;
}

message SpaceRequest {
  dxos.keys.PublicKey space_key = 1;
}

/// OS Embedded UI RPCs.
service OsEmbedService {
  rpc SetLayout(LayoutRequest) returns (google.protobuf.Empty);
  rpc SetSpace(SpaceRequest) returns (google.protobuf.Empty);
}
