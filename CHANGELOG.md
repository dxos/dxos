# Change Log

### [2.19.3](https://www.github.com/dxos/protocols/compare/v2.19.2...v2.19.3) (2021-12-22)


### Features

* Add feeds viewer to devtools ([#759](https://www.github.com/dxos/protocols/issues/759)) ([0acc668](https://www.github.com/dxos/protocols/commit/0acc668de186058b903a55346607a86d703e9b9f))
* Add items view to devtools ([#724](https://www.github.com/dxos/protocols/issues/724)) ([eb14f45](https://www.github.com/dxos/protocols/commit/eb14f4586269353a5270856f5f81d68da2de20dc))
* Add RegistrySearchDialog ([#770](https://www.github.com/dxos/protocols/issues/770)) ([a7017f9](https://www.github.com/dxos/protocols/commit/a7017f95a78316667a4b0990333bb665fa27475a))
* **crypto:** Move HumanHasher into @dxos/crypto ([#761](https://www.github.com/dxos/protocols/issues/761)) ([f4e7124](https://www.github.com/dxos/protocols/commit/f4e712468e0f307f6cd3afdf4c5f7c3597f19172))
* Devtools parties viewer ([#750](https://www.github.com/dxos/protocols/issues/750)) ([0ecd5f7](https://www.github.com/dxos/protocols/commit/0ecd5f78e96046b9a4a550106b342496d3cfacc3))
* **devtools:** Add viewer for credential messages ([#764](https://www.github.com/dxos/protocols/issues/764)) ([3b433cd](https://www.github.com/dxos/protocols/commit/3b433cd79310ea79d9e235860fef3926c2c12897))
* **devtools:** Party snapshots panel ([#774](https://www.github.com/dxos/protocols/issues/774)) ([8ce8708](https://www.github.com/dxos/protocols/commit/8ce87082e58fb65a9cc2502721d45fd2c4788f48))
* Introduce react-bot-factory-client package ([#752](https://www.github.com/dxos/protocols/issues/752)) ([b8ee815](https://www.github.com/dxos/protocols/commit/b8ee81520ea5adee644e0f81f2ea18518c822ac3))
* Print banner in console ([#767](https://www.github.com/dxos/protocols/issues/767)) ([f9e53a7](https://www.github.com/dxos/protocols/commit/f9e53a7c2f07dbf2ef72b406de64f09e89c600ac))
* Refactor bots and add error handling ([#749](https://www.github.com/dxos/protocols/issues/749)) ([9a16cc9](https://www.github.com/dxos/protocols/commit/9a16cc944d4a9162bc99cafedafae16c419c1a54))
* Storybook bot demo ([#747](https://www.github.com/dxos/protocols/issues/747)) ([bd1ee56](https://www.github.com/dxos/protocols/commit/bd1ee56a0d7ae60b1a5a17339f2c02555be58c87))
* Write bot logs to files ([#751](https://www.github.com/dxos/protocols/issues/751)) ([bde8430](https://www.github.com/dxos/protocols/commit/bde8430c868fdc492989798dc8b6758548166038))


### Bug Fixes

* Clean up echo tests ([#755](https://www.github.com/dxos/protocols/issues/755)) ([1b96ce2](https://www.github.com/dxos/protocols/commit/1b96ce295f6ac6c039c8c2fc1ff3ff20cf42a94b))
* expose new botkit. ([#744](https://www.github.com/dxos/protocols/issues/744)) ([968edc9](https://www.github.com/dxos/protocols/commit/968edc9d23437fe611f4ff1cb8910cbbb19144a5))
* Fix synchronizing items created before frontend database connects ([#771](https://www.github.com/dxos/protocols/issues/771)) ([576bee5](https://www.github.com/dxos/protocols/commit/576bee56b5d9fff35374e08229227f5059deca3b))
* Flaky echo test ([#754](https://www.github.com/dxos/protocols/issues/754)) ([f6f64ed](https://www.github.com/dxos/protocols/commit/f6f64ed441b54dfb097d2e5eb93bc58731727179))
* Increase bot tests timeout ([#769](https://www.github.com/dxos/protocols/issues/769)) ([1f602c0](https://www.github.com/dxos/protocols/commit/1f602c0c26d65aa9ced2d4e7a922906298691512))
* Signal server type issues ([#773](https://www.github.com/dxos/protocols/issues/773)) ([794f337](https://www.github.com/dxos/protocols/commit/794f33729773a250c8c593b73fd26a8bc0226b4b))
* uuidv4 bug ([#762](https://www.github.com/dxos/protocols/issues/762)) ([6c51769](https://www.github.com/dxos/protocols/commit/6c517690e0da9f3a1a8d49bf5ecc7d7d5563f8b4))

### [2.19.2](https://www.github.com/dxos/protocols/compare/v2.19.1...v2.19.2) (2021-12-08)


### Features

* Bot factory run with env variables ([#741](https://www.github.com/dxos/protocols/issues/741)) ([fdfdb77](https://www.github.com/dxos/protocols/commit/fdfdb775fa6d7a239d244737511d8e1753fc6599))
* Running bot factory & inviting a bot from an app ([#734](https://www.github.com/dxos/protocols/issues/734)) ([fe19cff](https://www.github.com/dxos/protocols/commit/fe19cff4e69f77cfa7ff78c57b3d3964781f7566))


### Bug Fixes

* Improve sharing dialog flow ([#742](https://www.github.com/dxos/protocols/issues/742)) ([b320055](https://www.github.com/dxos/protocols/commit/b3200558e37f39452869e6188f1fb7ec3add2b45))

### [2.19.1](https://www.github.com/dxos/protocols/compare/v2.19.0...v2.19.1) (2021-12-07)


### Bug Fixes

* Plugin RPC two clients test ([#721](https://www.github.com/dxos/protocols/issues/721)) ([8eb4a7b](https://www.github.com/dxos/protocols/commit/8eb4a7b736ad87f42bb38a6705b0278499ad4fdb))
* Protocol plugin RPC use setHandshakeHandler ([#733](https://www.github.com/dxos/protocols/issues/733)) ([186ce80](https://www.github.com/dxos/protocols/commit/186ce801b5514d2130e2975738240abe2793815c))
* Restore Tasks app ([#729](https://www.github.com/dxos/protocols/issues/729)) ([ce459e5](https://www.github.com/dxos/protocols/commit/ce459e50610f2a5ef6d652b11157e8c8507166e8))
* Use esbuild in tasks app ([#730](https://www.github.com/dxos/protocols/issues/730)) ([caf7e17](https://www.github.com/dxos/protocols/commit/caf7e17cfbadc3d93d5e4d4524fbae5c80d06a84))

## [2.19.0](https://www.github.com/dxos/protocols/compare/v2.18.3...v2.19.0) (2021-12-05)


### ⚠ BREAKING CHANGES

* Introduce EchoProxy (#698)
* Remove ClientInitializer. ([#718](https://www.github.com/dxos/protocols/issues/718)) ([6e75e8b](https://www.github.com/dxos/protocols/commit/6e75e8b7b498833d2fc4ac6f86de7de1c53b9376))

### Features

* Add stream for keyring keys to devtools host service ([#719](https://www.github.com/dxos/protocols/issues/719)) ([5f49105](https://www.github.com/dxos/protocols/commit/5f49105e7ca4f590055809902d5fee52064fb761))
* Introduce EchoProxy ([#698](https://www.github.com/dxos/protocols/issues/698)) ([117bc48](https://www.github.com/dxos/protocols/commit/117bc48e501a089c617ec281ce4fb7d28e76e294))
* Protocol plugin RPC ([#707](https://www.github.com/dxos/protocols/issues/707)) ([3544390](https://www.github.com/dxos/protocols/commit/35443906a1a4010da969cca0b1a0ce23e5768290))
* Support hierarchical items and links in remote databases ([#722](https://www.github.com/dxos/protocols/issues/722)) ([ed9b639](https://www.github.com/dxos/protocols/commit/ed9b6397a477719f54f888288276ac46441dd89d))

### [2.18.3](https://www.github.com/dxos/protocols/compare/v2.18.2...v2.18.3) (2021-12-02)


### Bug Fixes

* config v1. ([#705](https://www.github.com/dxos/protocols/issues/705)) ([33c09fc](https://www.github.com/dxos/protocols/commit/33c09fc7a14f4898d96ee7ccfcd9ee7f4c504a1d))
* Incorrect model meta on re-hydrated models ([#712](https://www.github.com/dxos/protocols/issues/712)) ([ef09cea](https://www.github.com/dxos/protocols/commit/ef09cea7be45a43d1e313ce45ffb0583bcf9b4f8))
* Remove asserts around error handling [#711](https://www.github.com/dxos/protocols/issues/711) ([0606dc8](https://www.github.com/dxos/protocols/commit/0606dc86332e4fa0368a63e56fa57a1e56884953))
* Split bot definition and bot start ([#716](https://www.github.com/dxos/protocols/issues/716)) ([c5406d7](https://www.github.com/dxos/protocols/commit/c5406d7f28b7b1cf7a8bcc2ab0e75cfe861aa778))

### [2.18.2](https://www.github.com/dxos/protocols/compare/v2.18.1...v2.18.2) (2021-11-30)


### Features

* Remove invitation url slash ([#699](https://www.github.com/dxos/protocols/issues/699)) ([3f82802](https://www.github.com/dxos/protocols/commit/3f82802a434947d441d128be0b15ab4f8aad4a3d))


### Bug Fixes

* Add "chore" prefix to automatic job ([a720b44](https://www.github.com/dxos/protocols/commit/a720b44cc1f994dbefa2af230840915babb0ab8a))
* Apply code-review comments for remote database PR ([#696](https://www.github.com/dxos/protocols/issues/696)) ([f5d2486](https://www.github.com/dxos/protocols/commit/f5d2486c4ea21073248bb049f7b71f204f38c59b))
* remove model assertion ([#701](https://www.github.com/dxos/protocols/issues/701)) ([e264bc9](https://www.github.com/dxos/protocols/commit/e264bc9592fd171cc6176354b27b985a649c7f6e))

### [2.18.1](https://www.github.com/dxos/protocols/compare/v2.18.0...v2.18.1) (2021-11-26)


### Features

* Fake feature to test release please ([b32cf02](https://www.github.com/dxos/protocols/commit/b32cf027bfc64fba26a81220a9161ecaffe92af7))
* Introduce Release Pleaase ([#679](https://www.github.com/dxos/protocols/issues/679)) ([a40316c](https://www.github.com/dxos/protocols/commit/a40316c63aecb6f0bcb7e465636f74c26bfa37e0))

## [2.18.0](https://www.github.com/dxos/protocols/compare/v2.17.1...v2.18.0) (2021-11-26)


### ⚠ BREAKING CHANGES

* breaking feature to test release-please

### Features

* Another fake feature to test release-please ([74da53e](https://www.github.com/dxos/protocols/commit/74da53ef7c4bea3b7b2dbd72f8d0f6d386857ca1))
* breaking feature to test release-please ([34b1554](https://www.github.com/dxos/protocols/commit/34b1554db716e343d2b83890444ff397a6b0c0e8))
* Fake feature to test release-please ([a6ff171](https://www.github.com/dxos/protocols/commit/a6ff17116965471620730f0be1f121c85e903cd3))


### Bug Fixes

* Additional config defs for infra. ([eb4fa95](https://www.github.com/dxos/protocols/commit/eb4fa95f5d0d5ab96ae74501e7bc817f605862c3))
* **sliding-drawer:** add fixes from old react-appkit-new package ([#670](https://www.github.com/dxos/protocols/issues/670)) ([7397437](https://www.github.com/dxos/protocols/commit/73974371052faf871fb2005d7ac43f5ba503de89))

## 2021-10-11

- [ ] Config structure
  - [x] Default config (in memory swarm) [BREAKING CHANGE]
  - [ ] Default client config disable signaling (otherwise storybooks show connection warning)
  - [ ] Config structure (e.g., snapshots)

- [ ] Client API
  - [ ] Client vs echo methods (createParty, createInvitation, joinParty, etc.)
  - [ ] Normalize join/invitation methods
    - [ ] Use of InvitationAuthenticator (and defaults)
    - [ ] Options/callbacks
    - [ ] Use of PublicKey vs string
  - [ ] Construct HALO outside of ECHO and pass in? (reduce complexity)
  - [ ] useProfile type definition; displayName vs username, etc.
  - [ ] ECHO "items" should be called "objects"

- [ ] Error handling
  - [ ] Client API errors
  - [ ] Invitation flow errors
  - [ ] Global error handler, logging, reporter, etc.

- [ ] Hooks
  - [ ] Normalize THREE client invitation methods (party, offline party, halo)
  - [x] useInvitation
  - [x] useOfflineInvitation (merge with useInvitation)
  - [x] useInvitationRedeemer
  - [ ] useAuthenticator (merge with useInvitationRedeemer)

- [ ] Initializers
  - [x] Remove ErrorBoundary from ClientInitializer
  - [ ] Rethink initializers: Loading indicator until all async have finished
    - [ ] ClientInitializer, ClientInitializerProperties (clean-up)
    - [ ] RegistryClientInitializer
    - [ ] ProfileInitializer

```html
  <ClientInitializer
    client={() => Client}     // Config object or callback.
    asyncInit={[              // Async functions that are passed a constructed client object.
      createRegistry,
      createClient,
      createProfile
    ]}>
  </ClientInitializer>
```

- [ ] react-client testing
  - [x] Invitation Storybooks
  - [ ] React tests for major flows (mocha with jsdom)
  - [ ] Convert storybooks to using esapp

- [ ] react-components lib
  - [ ] Move low-level components: Fullscreen, JSON, Editable, etc.

- [ ] react-framework dialogs
  - [x] RedeemDialog
  - [ ] ProfileDialog
  - [ ] wallet components/containers

- [ ] General
  - [ ] Standard for shims (e.g., client/src/shims.d.ts vs demo/src/@types)
  - [ ] Prevent default exports
  - [ ] Prefer arrow functions

- [ ] Dependencies
  - [ ] Update Braneframe
  - [ ] Teamwork backwards compatible?
  - [ ] Update Tutorial tasks app
  - [ ] Text app, etc.
