on:
  workflow_dispatch:

name: release-candidate

jobs:
  release-candidate:
    runs-on: ubuntu-latest
    steps:
      - run: echo "today=$(date +"%Y-%m-%d")" >> $GITHUB_OUTPUT
        id: time
      
      - name: Checkout
        uses: actions/checkout@v3

      - run: echo "sha=$(git rev-parse --short=8 HEAD)" >> $GITHUB_OUTPUT
        id: git

      - uses: peterjgrainger/action-create-branch@v2.2.0
        env:
          GITHUB_TOKEN: ${{ secrets.CREATE_PR_TOKEN }}
        with:
          branch: rc-${{ steps.time.outputs.today }}-${{ steps.git.output.sha }}
