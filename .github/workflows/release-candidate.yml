on:
  workflow_dispatch:

name: release-candidate

jobs:
  release-candidate:
    runs-on: ubuntu-latest
    steps:
      - run: echo "today=$(date +"%Y-%m-%d")" >> $GITHUB_OUTPUT
        id: time

      - run: echo "sha=$(echo $GITHUB_SHA | cut -c1-8)" >> $GITHUB_OUTPUT
        id: git

      - uses: peterjgrainger/action-create-branch@v2.2.0
        env:
          GITHUB_TOKEN: ${{ secrets.CREATE_PR_TOKEN }}
        with:
          branch: rc-${{ steps.time.outputs.today }}-${{ steps.git.outputs.sha }}
