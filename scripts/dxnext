#!/bin/bash

set -eo pipefail

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
ROOT_DIR="$(cd "$SCRIPT_DIR/.." && pwd)"

#
# Use exec -a to set process name for easy signal targeting.
# NOTE: killall uses the actual executable name, not argv[0], so use pkill instead:
# pkill -TERM dxnext
#
exec -a dxnext bun run "$ROOT_DIR/packages/devtools/cli-next/src/bin.ts" "$@"