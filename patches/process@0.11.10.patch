diff --git a/browser.js b/browser.js
index d059362306586e0ed53170099e2e34aa7c756adb..fa334c6ac8c16432fa016d5b7dac64634386817c 100644
--- a/browser.js
+++ b/browser.js
@@ -1,5 +1,5 @@
 // shim for using process in browser
-var process = module.exports = {};
+var process = module.exports = globalThis.process || {};
 
 // cached from whatever global is present so that test runners that stub it
 // don't break things.  But we need to wrap it in a try catch in case it is
@@ -154,7 +154,7 @@ Item.prototype.run = function () {
 };
 process.title = 'browser';
 process.browser = true;
-process.env = {};
+process.env = process.env || {};
 process.argv = [];
 process.version = ''; // empty string to avoid regexp issues
 process.versions = {};